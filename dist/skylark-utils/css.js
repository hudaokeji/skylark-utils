/**
 * skylark-utils - An Elegant HTML5 JavaScript Library.
 * @author Hudaokeji Co.,Ltd
 * @version v0.9.5
 * @link www.skylarkjs.org
 * @license MIT
 */
define(["./skylark","./langx","./noder"],function(e,t,r){function n(e,n){var i,a={type:"text/css"},u=R++;return n=n||{},n.media&&(a.media=n.media),i=e?r.create("link",t.mixin(a,{rel:"stylesheet",async:!1})):r.createElement("style",a),r.append(p,i),E[u]={id:u,node:i},u}function i(e,t){t||(t={});var r=n(!1,t);return e&&f(r,e),r}function a(e,r){var n=E[e];return t.isNumber(r)?A.call(n,r):t.each(n[g],function(e,t){if(r===t)return A.call(n,e),!1}),this}function u(e){return a(P,e),this}function l(e){if(e===P)throw new Error("The default stylesheet can not be deleted");var t=E[e];return delete E[e],r.remove(t.node),this}function s(e,t,r){return this.insertSheetRule(P,e,t,r)}function o(e){return this.addRules(P,e)}function c(e,t,r,n){if(!t||!r)return-1;var i=E[e];return n=n||i[g].length,S.call(i,t,r,n)}function f(e,n){var i,a=E[e];return i=t.isPlainObject(n)?v(n):n,r.append(a.node,r.createTextNode(i)),this}function d(e){return e.startsWith("@")}function v(e){var r=function(e,t,r){return m.SPACE.repeat(r)+e.trim()+": "+t.trim()+";\n"},n=function(e,t,r){return e&&(d(e)?r+=1:t=e+t),{name:t,depth:r}},i=function(e,r,n){var i="";if(t.isString(r))i=m.SPACE.repeat(n)+e.trim()+' "'+r+' ";';else{if(!t.isPlainObject(r))throw new Error("Invalid param!");i+=m.SPACE.repeat(n)+e.trim()+" {\n",i+=a("",r,n+1),i+=m.SPACE.repeat(n)+"}\n"}return i},a=function(e,i,u){var l="";if(e){l+=m.SPACE.repeat(u)+e.trim()+" {\n";for(var s in i){var o=i[s];t.isString(o)&&(l+=r(s,o,u+1))}l+=m.SPACE.repeat(u)+"}\n"}for(var s in i){var o=i[s];if(t.isPlainObject(o)){var c=n(e,s,u);l+=a(c.name,o,c.depth)}}return l},u="";for(var l in e)u+=d(l)?i(l,e[l],0):a(l,e[l],0);return u}function h(e){for(var t={},r=function(e){var t={};e=e.split(";");for(var r in e)if(e[r].indexOf(":")!==-1){var n=e[r].split(":");t[n[0].trim()]=n[1].trim()}return t},n=e.split("}"),i=0;i<n.length;i++){var a=n[i].split("{");""!==a[0].trim()&&(t[a[0].trim()]=r(a[1]))}return t}function m(){return m}var S,p=document.getElementsByTagName("head")[0],R=0,E={},P=n(),y=E[P],g="cssRules"in y?"cssRules":"rules",A=y.deleteRule||y.removeRule;if(y.insertRule){var C=y.insertRule;S=function(e,t,r){C.call(this,e+"{"+t+"}",r)}}else S=y.addRule;return t.mixin(m,{SPACE:"\t",addRules:o,addSheetRules:f,createStyleSheet:i,deleteSheetRule:a,deleteRule:u,insertRule:s,insertSheetRule:c,removeStyleSheet:l,toJSON:h,toString:v}),e.css=m});
//# sourceMappingURL=sourcemaps/css.js.map
