<html>

<head>
    <meta charset=utf-8 />
    <title>Test</title>
    <link rel="stylesheet" href="https://cdn.bootcss.com/bootstrap/3.3.6/css/bootstrap.min.css">
    <link href="https://cdn.bootcss.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet">
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.3/require.min.js"></script>
    <script>
    require.config({
        baseUrl: "./",
        packages: [{
            name: "skylark-utils",
            location: "../../dist/skylark-utils"
        }]
    });
    </script>
    <style>
    body {
        background: #ccc;
        font-family: 'Raleway', sans-serif;
        padding: 40px;
        font-size: 16px;
    }
    /* dropdow start */

    .dropdown {
        background: #fff;
        position: relative;
        width: 200px;
        border-radius: 3px;
        color: #444;
        cursor: pointer;
    }

    .dropdown.is-opened {
        border-bottom-left-radius: 0;
        border-bottom-right-radius: 0;
    }

    .dropdown-box {
        display: flex;
        flex-direction: row;
        align-items: center;
        height: 64px;
        padding: 0 32px;
        justify-content: space-between;
        cursor: pointer;
    }

    .dropdown-options-container {
        opacity: 0;
        pointer-events: none;
        position: absolute;
        left: 0;
        top: 100%;
        background: #fff;
        min-width: 100%;
        border-bottom-left-radius: 3px;
        border-bottom-right-radius: 3px;
        transform: translateY(-40px);
        transition: transform .3s, opacity .3s;
        z-index: -1;
    }

    .is-opened .dropdown-options-container {
        pointer-events: all;
        opacity: 1;
        transform: translateY(0);
        z-index: 5;
    }

    .dropdown-option {
        height: 54px;
    }

    .dropdown-option:hover {
        background: #f5f5f5;
    }

    .dropdown-inner,
    .dropdown-value,
    .dropdown-icon {
        pointer-events: none;
    }

    .dropdown-icon {
        transition: transform .3s;
    }

    .is-opened .dropdown-icon {
        transform: rotateZ(180deg);
    }
    /* dropdow end */
    /* table start */

    .table-container {
        text-align: center;
    }

    table {
        text-align: center;
        width: 300px;
        margin: 20px auto;
        background: #fafafa;
        box-sizing: border-box;
        box-shadow: 0px 2px 5px rgba(0, 0, 0, 0.2);
    }

    table thead {
        border: 1px solid #222;
        border-right: 0;
        background: #333;
    }

    table thead tr th {
        color: #fff;
        padding: 10px;
        border-right: 1px solid #222;
    }

    table tbody {
        border-left: 1px solid #ccc;
    }

    table tbody tr {
        border-bottom: 1px solid #ccc;
    }

    table tbody tr td {
        padding: 10px;
        border-right: 1px solid #ccc;
    }
    /* table end */
    </style>
</head>

<body>
    <div class="test-container">
        <div class="jumbotron">
            <div class="container">
                <div class="row">
                    <div class="dropdown-container col-sm-6 col-md-4">
                        <h3 class="title">dropdown test</h3>
                        <div class="dropdown js-dropdown">
                            <div class="dropdown-inner dropdown-box">
                                <span class="dropdown-value js-dropdown-value">dropdown</span>
                                <span class="dropdown-icon">&#9662;</span>
                            </div>
                            <div class="dropdown-options-container js-dropdown-options">
                                <div class="dropdown-option dropdown-box js-dropdown-option">Num</div>
                                <div class="dropdown-option dropdown-box js-dropdown-option">Name</div>
                                <div class="dropdown-option dropdown-box js-dropdown-option">Grade</div>
                            </div>
                        </div>
                    </div>
                    <div class="table-container col-sm-6 col-md-8">
                        <h3 class="title">table test</h3>
                        <table>
                            <thead>
                                <tr>
                                    <th>Num</th>
                                    <th>Name</th>
                                    <th>Grade</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>3</td>
                                    <td>Tom</td>
                                    <td>88</td>
                                </tr>
                                <tr>
                                    <td>1</td>
                                    <td>Kimi</td>
                                    <td>70</td>
                                </tr>
                                <tr>
                                    <td>4</td>
                                    <td>Kitty</td>
                                    <td>90</td>
                                </tr>
                                <tr>
                                    <td>2</td>
                                    <td>Jane</td>
                                    <td>68</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="jumbotron">
        <div class="container">
            <div class="questions hide">
                <h3>允许引入其他库解决下面问题</h3>
                <ol>
                    <li>
                        <span>html & css</span>
                        <ol>
                            <li>使用bootstrap实现示例图的布局</li>
                            <li>编写表格样式</li>
                        </ol>
                    </li>
                    <li>
                        <span>js</span>
                        <ol>
                            <li>编写实现下拉列表的js代码(请用原生js实现，不要使用jquery)</li>
                            <li>编写实现表格列间隔色的css代码</li>
                            <li>编写点击表格标题栏实现表格排序的js代码</li>
                            <li>编写点击下拉列表实现表格排序的js代码</li>
                            <li>使用js对html进行重构</li>
                        </ol>
                    </li>
                    <li>
                        <span>nodejs & build</span>
                        <ol>
                            <li>使用nodejs，开发一个服务运行该页内容并将当前代码模块化</li>
                            <li>将css转换成sass，并编写脚本实现sass编译成css（使用gulp或者webpack）</li>
                        </ol>
                    </li>
                </ol>
            </div>
        </div>
    </div>
    <script type="text/javascript">
    require(["skylark-utils/query"], function($) {
        // downdown
        var dropdown = document.querySelector('.js-dropdown');
        var dropdownValue = dropdown.querySelector('.js-dropdown-value');
        var dropdownOptions = dropdown.querySelector('.js-dropdown-options');

        dropdown.addEventListener('click', function(event) {
            if (event.target === dropdown) {
                dropdown.classList.toggle('is-opened');
            }

            if (event.target.classList.contains('js-dropdown-option')) {
                dropdownValue.innerText = event.target.innerText;
                dropdown.classList.remove('is-opened');
            }
        });
        // table sort
        var thIndex = 0,
            curThIndex = null;
        $('table thead tr th').on("click", function() {
            thIndex = $(this).index();
            if (thIndex != curThIndex) {
                curThIndex = thIndex;
                sorting = [];
                tbodyHtml = "";
                $('table tbody tr').each(function() {
                    sorting.push($(this).children('td').eq(curThIndex).html() + ', ' + $(this).index());
                });

                sorting = sorting.sort();
                sortIt();
            }
            changeColor();
        });

        function sortIt() {
            for (var sortingIndex = 0; sortingIndex < sorting.length; sortingIndex++) {
                rowId = parseInt(sorting[sortingIndex].split(', ')[1]);
                tbodyHtml = tbodyHtml + $('table tbody tr').eq(rowId)[0].outerHTML;
            }
            $('table tbody').html(tbodyHtml);
        }

        function changeColor() {
            $("tbody tr").each(function(index, el) {
                var selector = $(el),
                    color;
                if (index % 2 === 0) {
                    color = "#dff0d8";
                } else {
                    color = "#d9edf7"
                }
                selector.css("background-color", color);

            });
        };
        changeColor();
    });
    </script>
</body>

</html>
